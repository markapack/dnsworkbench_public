<div th:fragment="map" id="mapid" style="height: 400px">
    <div th:fragment="mapscript">
    <script>
	var mymap = L.map('mapid', { zoomControl: false, scrollWheelZoom: false }).setView([30.0, -10.0], 1);

	L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
			'Imagery &copy <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox/streets-v11',
		tileSize: 512,
		zoomOffset: -1
	}).addTo(mymap);

	cadns = L.circle([38, -122], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("OpenDNS, Google,<br>Quad9, Dyn");

	cadns.on('mouseover',function(ev) {
		ev.target.openPopup();
	});

	cadns.on('mouseout',function(ev) {
		ev.target.closePopup();
	});

	sprint = L.circle([39, -77], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("Sprint, Neustar");

	sprint.on('mouseover',function(ev) {
		ev.target.openPopup();
	});

	sprint.on('mouseout',function(ev) {
		ev.target.closePopup();
	});

	telefonica = L.circle([-24, -46], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("Telefonica");

	telefonica.on('mouseover',function(ev) {
		ev.target.openPopup();
	});

	telefonica.on('mouseout',function(ev) {
		ev.target.closePopup();
	});

	cloudflare = L.circle([34.052230, -118.243680], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("Cloudflare");

	cloudflare.on('mouseover',function(ev) {
		ev.target.openPopup();
	});

	cloudflare.on('mouseout',function(ev) {
		ev.target.closePopup();
	});

	verizonuk = L.circle([52, 0], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("Verizon UK");

	verizonuk.on('mouseover',function(ev) {
		ev.target.openPopup();
	});

	verizonuk.on('mouseout',function(ev) {
		ev.target.closePopup();
	});

	var popup = L.popup();

	function onMapClick(e) {
		popup
			.setLatLng(e.latlng)
			.setContent("You clicked the map at " + e.latlng.toString())
			.openOn(mymap);
	}

	mymap.on('click', onMapClick);

</script>
</div>
</div>